id: github-user-repos
title: View user profile and navigate to repository
category: flow

description: |
  Multi-step flow: navigate to a user profile, verify profile elements,
  view their repositories, and open a specific repository.

  Demonstrates:
  - Multi-page navigation
  - Profile element verification
  - List interaction
  - Data extraction (followers, stars)

parameters:
  base_url: https://github.com
  username: torvalds

steps:
  - desc: Navigate to user profile
    commands:
      - agent-browser open {{env.base_url}}/{{env.username}} --headed
      - agent-browser wait 2000
    expect:
      - element_visible: {{role: heading, name: /Linus Torvalds/}}
      - element_visible: {{role: link, name: /followers/}}
      - element_visible: {{role: navigation, name: "User profile"}}

  - desc: Verify profile tabs exist
    commands:
      - agent-browser snapshot --json
    expect:
      - element_visible: {{role: link, name: /Repositories/}}
      - element_visible: {{role: link, name: "Stars"}}

  - desc: Click Repositories tab
    commands:
      - agent-browser click {{role: link, name: /Repositories \d+/}}
      - agent-browser wait 2000
    expect:
      - element_visible: {{role: searchbox, name: "Find a repositoryâ€¦"}}
      - element_visible: {{role: heading, name: /linux Public/}}

  - desc: Click on linux repository
    commands:
      - agent-browser click {{role: link, name: "linux"}}
      - agent-browser wait 2000
    expect:
      - url_contains: /torvalds/linux
      - element_visible: {{role: link, name: /star \d+/}}

exploration:
  status: validated
  session_log: |
    2026-02-01: Recorded on github.com
    - Profile page has rich semantic structure (navigation, headings, links)
    - Tab navigation works with accessible names
    - Repository list has clear heading structure
    - No rate limiting when using direct navigation (vs search)
