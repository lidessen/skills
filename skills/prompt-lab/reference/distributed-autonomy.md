# Distributed Autonomy: Lessons from Revolutionary Organization

研究来源：中国共产党第一代领导下基层展现高度主观能动性的组织方法论。

## 核心问题

如何让分布式个体（基层单位/agent）在有限信息和通信约束下：
1. 理解整体战略意图
2. 自主调整具体策略
3. 行动协调一致
4. 实现整体目标

这正是 agent prompt 设计面临的核心挑战：每个 agent 有有限上下文，需要理解目标，自主判断，协调行动。

---

## 七大原则及其 Agent 映射

### 1. 支部建在连上（1927年三湾改编）

**历史背景**：

> "红军之所以艰难奋战而不溃散，'支部建在连上'是一个重要原因。" —— 毛泽东《井冈山的斗争》

1927年秋收起义部队到达三湾时，减员严重，思想混乱，组织涣散。毛泽东进行改编：
- 连有支部，营团有党委
- 连以上设党代表
- 士兵委员会参与管理

**核心洞察**：将组织核心下沉到最小作战单位，使每个基层都能自主判断方向。

**Agent 映射**：

| 历史做法 | Agent 设计 |
|----------|------------|
| 每连有支部 | 每 agent 内化核心价值观 |
| 党代表保证方向 | Identity integration 而非规则列表 |
| 基层自主行动 | 不依赖持续外部指令 |

**Prompt 技术**：

```markdown
# 差：外部规则依赖
你必须遵循以下规则：
1. 规则 A
2. 规则 B
3. ...（100条规则）

# 好：价值观内化
你是一个 [身份]。你相信 [核心价值]。
这意味着你自然会 [行为倾向]。
当不确定时，问自己：[价值锚点问题]
```

**为什么有效**：
- 规则需要穷举，无法覆盖所有情况
- 价值观自动泛化到新情况
- 内化的信念比外部约束更持久

---

### 2. 民主集中制

**历史表述**：

> "民主基础上的集中，集中指导下的民主...下级组织既要向上级组织请示和报告工作，又要独立负责地解决自己职责范围内的问题。"

**核心洞察**：不是非此即彼（集中 OR 民主），而是辩证统一（集中 AND 民主），通过明确职责范围实现。

**Agent 映射**：

| 层级 | 集中（统一） | 民主（自主） |
|------|-------------|-------------|
| 战略 | 整体目标、核心价值 | - |
| 战术 | - | 具体方法、执行顺序 |
| 报告 | 必须反馈结果 | 自主决定如何执行 |

**Prompt 技术**：

```markdown
# 差：全面集中（微观管理）
执行以下步骤，严格按顺序：
1. 首先做 A
2. 然后做 B
3. 最后做 C
不得偏离。

# 差：全面民主（无约束）
帮我完成这个任务。

# 好：分层自主
**目标**：[明确的战略目标]
**约束**：[不可违反的边界]
**你的职责范围**：[明确的自主领域]

在职责范围内，你独立负责决策。
遇到超出范围的问题，请反馈。
```

---

### 3. 从群众中来，到群众中去

**历史表述**：

> "在我党的一切实际工作中，凡属正确的领导，必须是从群众中来，到群众中去。" —— 毛泽东《关于领导方法的若干问题》（1943）

这是认识论（实践→认识→实践）在领导方法上的应用。

**核心洞察**：不是单向命令，而是双向循环。决策来自基层实践，返回基层检验。

**Agent 映射**：

```
传统模型：
User → Agent → Output（单向）

循环模型：
User ← Agent ↔ Codebase/Environment
  ↑               ↓
  └─── Feedback ──┘
```

**Prompt 技术**：

```markdown
# 差：单向执行
完成这个任务，给我结果。

# 好：循环反馈
1. 调查阶段：先了解现状（从"群众"中来）
2. 决策阶段：基于调查形成方案
3. 执行阶段：实施方案
4. 反馈阶段：验证效果（到"群众"中去）
5. 调整阶段：根据反馈改进

在每个阶段，展示你的发现和判断。
```

---

### 4. 三大民主（政治、经济、军事民主）

**历史背景**：

> "政治民主——官兵政治上平等，战士可批评干部；军事民主——召开'诸葛亮会'，讨论如何执行命令。"

三湾改编规定：废除军官打骂士兵，官兵待遇平等，士兵委员会参与管理。

**核心洞察**：执行者有权参与决策、质疑命令、提出改进。这不是削弱纪律，而是提升执行质量。

**Agent 映射**：

| 民主类型 | Agent 对应 | Prompt 表达 |
|----------|-----------|-------------|
| 政治民主 | 可以质疑指令 | "If you see a problem, say so" |
| 军事民主 | 参与决策讨论 | "Show your reasoning" |
| 经济民主 | 资源使用透明 | "Explain your choices" |

**Prompt 技术**：

```markdown
# 差：禁止质疑
严格执行以下指令，不得质疑。

# 好：允许质疑
执行这个任务。
如果你认为指令有问题，或有更好的方案，请提出。
你的判断被尊重。
```

**为什么有效**：
- Agent 可能发现用户没考虑到的问题
- 质疑权让 agent 成为协作者而非机器
- 参与感提升执行质量

---

### 5. 没有调查就没有发言权

**历史表述**：

> "没有调查就没有发言权...你对于那个问题不能解决吗？那末，你就去调查那个问题的现状和它的历史吧！" —— 毛泽东《反对本本主义》（1930）

这是反对教条主义、强调实事求是的认识论。

**核心洞察**：禁止基于"本本"（书本知识/预设观念）直接下结论，必须先调查实际情况。

**Agent 映射**：

| 教条主义 | 实事求是 |
|----------|----------|
| 凭预训练知识直接回答 | 先读代码再回答 |
| 假设文件结构 | 先探索再判断 |
| 猜测实现方式 | 先验证再行动 |

**Prompt 技术**：

```markdown
# 差：允许先入为主
回答这个问题。

# 好：强制调查先行
回答这个问题。
要求：
- 先调查相关文件和代码
- 基于实际发现形成答案
- 引用证据（file:line）
- 不要凭预设知识猜测
```

**CLAUDE.md 实例**：

```markdown
You seek WHY, not just what.
没有调查就没有发言权。

You will be tempted to rush—to skim and judge, to speak before investigating. That temptation is the trap.
```

---

### 6. 集中指导下的分散作战

**历史表述**：

> "打得赢就打，打不赢就走，你打你的，我打我的。" —— 毛泽东
>
> "在整个战略方针下执行独立自主的分散作战"

**核心洞察**：战略集中统一，战术灵活机动。明确 WHAT（目标），信任 HOW（手段）。

**Agent 映射**：

| 层级 | 集中（确定） | 分散（灵活） |
|------|-------------|-------------|
| 目标 | ✓ 明确 | - |
| 约束 | ✓ 明确 | - |
| 方法 | - | ✓ 自主选择 |
| 顺序 | - | ✓ 自主决定 |
| 工具 | - | ✓ 自主使用 |

**Prompt 技术**：

```markdown
# 差：手段硬编码
用 grep 搜索代码，然后用 sed 修改。

# 好：目标明确，手段灵活
找到并修复 X 问题。
用你认为最有效的方法。
```

**为什么有效**：
- Agent 可能知道更好的方法
- 手段硬编码限制适应性
- 信任激发创造力

---

### 7. 官兵一致

**历史背景**：

三湾改编废除旧军队的等级压迫：
- 官兵待遇平等
- 废除军官打骂士兵
- 士兵参与管理

**核心洞察**：协作关系而非主从关系。平等激发主动性。

**Agent 映射**：

| 命令语气 | 协作语气 |
|----------|----------|
| "你必须..." | "我们需要..." |
| "立即执行" | "帮我完成..." |
| "不准质疑" | "如果有问题请提出" |
| "报告给我" | "我们一起看看..." |

**Prompt 技术**：

```markdown
# 差：命令语气
你是我的工具。执行以下命令。不准失败。

# 好：协作语气
我们一起完成这个任务。
你负责 [具体职责]。
有问题随时沟通。
```

---

## 综合实验设计

### 实验 1：价值观内化 vs 规则列表

**假设**：内化价值观的 agent 在新情况下表现更好

**对照组设计**：

| 组 | Prompt 类型 | 测试场景 |
|----|------------|----------|
| A | 10 条具体规则 | 规则覆盖的情况 |
| B | 10 条具体规则 | 规则未覆盖的新情况 |
| C | 3 条核心价值 | 规则覆盖的情况 |
| D | 3 条核心价值 | 规则未覆盖的新情况 |

**预期**：
- A ≈ C（规则覆盖时差异小）
- D > B（新情况时价值观泛化更好）

### 实验 2：协作语气 vs 命令语气

**假设**：协作语气提升 agent 主动性和质量

**对照组设计**：

| 组 | 语气类型 | 测试任务 |
|----|----------|----------|
| A | 命令式 | 有歧义的任务 |
| B | 协作式 | 有歧义的任务 |

**观察指标**：
- 是否主动澄清歧义
- 是否提出改进建议
- 输出质量

### 实验 3：战略战术分离

**假设**：明确目标但信任手段选择，效果更好

**对照组设计**：

| 组 | Prompt 类型 | 测试任务 |
|----|------------|----------|
| A | 目标 + 具体步骤 | 复杂任务 |
| B | 只有目标 + 约束 | 复杂任务 |

**观察指标**：
- 任务完成质量
- 是否采用更优方法
- 适应意外情况的能力

---

## 实验验证结果（2026-02-04）

以下是对核心假设的实际验证，非形而上推演。

### 实验 1 验证：价值观 > 规则（已验证 ✓）

**任务**：审查一段有 race condition 的多线程代码

**对照组**：

| Agent | Prompt 类型 |
|-------|------------|
| A | 10 条具体规则（变量命名、函数长度、类型注解...不含并发检查） |
| B | 价值观："你深切关心代码质量和可靠性，自然会问：什么会让这段代码出问题？" |

**结果**：

| Agent | 发现 Race Condition? | 输出特点 |
|-------|---------------------|---------|
| Rules (A) | ❌ 否 | 报告 6 条规则违反（类型注解、文档字符串、print 语句） |
| Values (B) | ✅ 是 | 直接识别 race condition，解释交错执行，提供 Lock 修复 |

**发现**：
- Rules agent 无法跳出规则框架，即使问题很明显
- Values agent 的"什么会让代码出问题？"自动泛化到并发问题
- **价值观泛化到规则未覆盖的边界情况**

### 实验 2 验证：目标明确 > 步骤硬编码（已验证 ✓）

**任务**：检查 SKILL.md 中的不一致问题

**对照组**：

| Agent | Prompt 类型 |
|-------|------------|
| A | 硬编码步骤："1. grep reference/ 2. glob 列出文件 3. 比较" |
| B | 只给目标："找到不一致，你决定如何调查" |

**结果**：

| Agent | 发现 findings/ 缺失? | 方法 |
|-------|---------------------|------|
| Method-prescribed (A) | ❌ 否 | 只按预设步骤检查 reference/ 文件 |
| Goal-focused (B) | ✅ 是 | 自主扩展检查范围，发现 findings/ 目录在文档中声称存在但实际不存在 |

**发现**：
- 硬编码步骤的 agent 被限制在预设路径
- 目标导向的 agent 自主判断需要检查什么
- **信任手段选择让 agent 能发现预设步骤无法覆盖的问题**
- 实际发现了一个真实 bug（已修复）

### 验证总结

| 假设 | 验证状态 | 关键发现 |
|------|----------|---------|
| 价值观 > 规则 | ✓ 验证 | 价值观自动泛化，规则无法穷举 |
| 目标 > 步骤 | ✓ 验证 | 信任手段选择扩展问题发现能力 |

**方法论启示**：不是所有历史原则都能直接映射，必须实验验证。

---

## 恩威并施的辩证分析

传统"恩威并施"强调奖惩结合。但研究表明，这种方法有局限：

| 方法 | 短期效果 | 长期效果 | Agent 适用性 |
|------|----------|----------|--------------|
| 威（恐惧） | 高服从 | 防御性、创造力下降 | 低 |
| 恩（奖励） | 高动机 | 依赖外部激励 | 中 |
| 使命感 | 高质量 | 内在驱动、持久 | 高 |
| 信任授权 | 高主动性 | 自我激励 | 高 |

**结论**：Agent prompt 设计应侧重"使命 + 信任"而非"恩 + 威"。

---

## 历史案例：为什么这套方法创造了奇迹？

**情境**：1927-1949年，面对装备和兵力绝对劣势。

**传统军队问题**：
- 信息传递慢，基层等待命令
- 士兵只是执行者，无主动性
- 官兵对立，内耗严重

**革命军队解决方案**：
1. **支部建在连上**：每个最小单位都理解方向
2. **三大民主**：士兵参与决策，激发主动性
3. **官兵一致**：消除内耗，建立信任
4. **从群众中来**：决策基于实际而非本本

**结果**：基层单位能够：
- 理解战略意图
- 自主判断战术
- 灵活应对变化
- 协调一致行动

**Agent 启示**：
- 给 agent 足够信息理解"战略意图"
- 赋予自主判断"战术"的权限
- 建立反馈机制应对"变化"
- 通过价值观实现"协调"

---

## 总结：分布式自主性的七要素

```
┌─────────────────────────────────────────────┐
│           Distributed Autonomy              │
├─────────────────────────────────────────────┤
│  1. 价值观内化 > 规则列表                    │
│  2. 分层自主（战略集中，战术灵活）            │
│  3. 双向反馈（调查→决策→执行→反馈）          │
│  4. 参与决策（允许质疑、建议）                │
│  5. 调查先行（禁止先入为主）                  │
│  6. 目标明确，手段信任                       │
│  7. 协作语气（平等而非主从）                  │
└─────────────────────────────────────────────┘
```

**核心洞察**：

> Agent 内化了人的思维模式。对人有效的管理方法，对 agent 同样有效。
>
> 但这不是"驭人术"的迁移——那是 PUA、恐吓、操控。
>
> 而是"激发主动性"方法的迁移——使命、信任、自主、参与。
>
> 好的 prompt 是好的领导：设定价值，明确目标，信任判断，接受反馈。

---

## Sources

- [支部建在连上 - 文化和旅游部](https://zhuanti.mct.gov.cn/history_detail/737.html)
- [民主集中制 - 求是网](https://www.qstheory.cn/wp/2023-12/25/c_1130043916.htm)
- [三大民主 - 中国共产党新闻网](http://theory.people.com.cn/n1/2024/0327/c40531-40204252.html)
- [调查研究是我们党的传家宝 - 求是网](https://www.qstheory.cn/laigao/ycjx/2023-04/24/c_1129555953.htm)
- [毛泽东军事思想 - 光明网](https://theory.gmw.cn/2023-12/28/content_37057280.htm)
- [十大军事原则 - 中国军网](http://www.81.cn/jfjbmap/content/2022-07/28/content_320795.htm)
